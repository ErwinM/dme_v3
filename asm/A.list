0000 : 0d03     |     la16 r3, 0xffa0
0002 : bdfe     |     
0004 : 94c5     |     mov bp, r3
0006 : 0179     |     ldi r1, 47
0008 : 8c18     |     stw 6(bp), r1
000a : 0289     |     la16 r1, 0x8851
000c : bd10     |     
000e : 8c08     |     stw 2(bp), r1
0010 : a27e     |     addi sp, pc, 2
0012 : 200c     |     br wait_while_busy
0014 : ca00     |     brk
0016 : 8820     |     ldw r1, 8(bp)
0018 : 8829     |     ldw r2, 10(bp)
001a : 8822     |     ldw r3, 8(bp)
001c : 882b     |     ldw r4, 10(bp)
001e : fe00     |     hlt
     :          | wait_while_busy:
0020 : 8808     |     ldw r1, 2(bp)
0022 : 0002     |     la16 r2, 0x4000
0024 : bc81     |     
0026 : 9854     |     and r4, r1, r2
0028 : 9d10     |     skip.eq r4, r2
002a : c206     |     br.r sp
002c : 3ff2     |     br wait_while_busy
